# ESP32 Web-Based PWM LED Controller with Real-Time Graphs

This project implements a self-contained web server on the ESP32-WROOM-32 module, enabling real-time control and visualization of an LED's brightness using PWM (Pulse Width Modulation). It runs in **Wi-Fi Access Point mode**, so no external Wi-Fi is needed.

---

## ğŸš€ Features

- âœ… **Access Point Mode**: ESP32 creates its own Wi-Fi network.
- âœ… **Web-Based PWM Control**: Adjust LED brightness from 0â€“100% via slider.
- âœ… **Real-Time Graphs** (Chart.js):
  - Brightness percentage
  - Estimated voltage
  - PWM duty cycle
  - Expandable to more charts (up to 6+)
- âœ… **Live JavaScript Updates**: Graphs update dynamically as you move the slider.
- âœ… **Historical Logging**:
  - Tracks recent slider values with timestamps.
  - Exposed via `/history` endpoint.

---

## ğŸ“¡ How It Works

1. ESP32 starts in **softAP** mode with a custom SSID and password.
2. The user connects to the ESP32â€™s Wi-Fi network and accesses the hosted web page.
3. A slider in the web UI sends brightness values to the ESP32 via a `/set?value=XX` endpoint.
4. The ESP32:
   - Sets the PWM duty cycle using the LEDC peripheral.
   - Logs the brightness and timestamp.
5. JavaScript in the browser updates multiple charts in real-time using **Chart.js**.

---

## ğŸ› ï¸ Technical Details

| Component     | Description                              |
|---------------|------------------------------------------|
| **ESP-IDF**   | ESP32 development framework              |
| **LEDC PWM**  | 13-bit PWM on GPIO 2 for LED dimming     |
| **HTTP Server** | `esp_http_server` handles `/`, `/set`, and `/history` |
| **Chart.js**  | Used on the client side for graph rendering |
| **FreeRTOS**  | RTOS powering tasks under the hood       |
| **Memory**    | Dynamic allocation (`malloc`) used to handle large HTML responses (up to 8 KB)

---

## ğŸ–¥ï¸ Web Interface

- **Slider** (0â€“100%) controls LED brightness
- **Charts**:
  - Brightness % (0â€“100)
  - Estimated voltage (0â€“3.3V)
  - PWM duty (0â€“8191)
  - Expandable to more (e.g., update rate, change delta)

---

## ğŸ“ Endpoints

| Endpoint     | Method | Description                              |
|--------------|--------|------------------------------------------|
| `/`          | GET    | Serves HTML page with slider and graphs  |
| `/set?value=XX` | GET    | Updates PWM duty cycle based on value   |
| `/history`   | GET    | Returns JSON log of previous slider changes |

---

## ğŸ’¡ Future Enhancements

- ğŸ“Š Plot `/history` data in long-term charts
- ğŸ’¾ Store logs in flash (NVS/SPIFFS)
- ğŸ§  Add other sensor/telemetry graphs
- ğŸ”§ Serve static files (JS/CSS) from internal flash
- ğŸ“¤ Export logs as CSV/JSON

---

## ğŸ§ª Memory Tips

- Use `malloc(8192)` or higher for large HTML responses (6+ charts).
- Monitor heap with `esp_get_free_heap_size()` to ensure stability.

---

## ğŸ“· Screenshots

_You can include screenshots here of your web UI with the graphs._

---

## ğŸ“œ License

This project is released under the Public Domain (or CC0). No warranty implied.
